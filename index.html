<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Index</title>

	<link rel="stylesheet" href="css/main.css">
</head>
<body>



	<h1>Index</h1>

	<a href="about.html">about</a>
	<a href="where.html">where</a>
	<a href="what.html">what</a>
	<a href="this.html">this</a>

<script src="js/appify.js"></script>

<script>

	var links = document.querySelectorAll('a');
	[].forEach.call(links, function (el) {
		el.addEventListener('click', appify);
	});


	function appify (e) {
		e.preventDefault();
		this.classList.add("clicked");
		var ajaxLink = this.getAttribute('href');
		var xhr = new XMLHttpRequest();  
		xhr.open("GET", ajaxLink, false);  
		xhr.send(null);
		console.log(xhr.responseText);
		var strVal = xhr.responseText; 
		var pattern = /<body[^>]*>((.|[\n\r])*)<\/body>/im
		var newContent = pattern.exec(strVal);
		//var body = document.querySelector('body');
		while (document.body.hasChildNodes()) {
		    document.body.removeChild(document.body.lastChild);
		}
		document.body.innerHTML = newContent[0];
	}

	
</script>
</body>
</html>